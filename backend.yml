- name: backend playbook
  hosts: all
  become: true
  tasks:
    - name: set-prompt
      ansible.builtin.shell: set-prompt backend

    - name: disable nodejs default version
      ansible.builtin.shell: dnf module disable nodejs -y

    - name: enable nodejs 20 versiob
      ansible.builtin.shell: dnf module enable nodejs:20 -y

    - name: install nodejs
      ansible.builtin.dnf:
        name: nodejs
        state: present

    - name: add expense user
      ansible.builtin.user:
       name: expense


    - name: copy service file
      ansible.builtin.copy:
        src: backend.service
        dest: /etc/systemd/system/backend.service